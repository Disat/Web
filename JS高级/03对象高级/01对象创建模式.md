# 01对象创建模式

## Object构造函数模式

方式一：Object构造函数模式

* 套路：先创建空Object对象，再动态添加属性
* 适用场景：起始时不确定对象内部数据
* 问题：语句太多

## 对象字面量

方式二：对象字面量模式

* 套路：使用{}创建对象，同时指定属性/方法

* 适用场景：起始时对象内部数据是确定的

* 问题：如果创建多个对象代码会重复

  

## 工厂模式

方式三：工厂模式

* 套路：通过工厂函数动态创建对象并返回
* 适用场景：需要创建多个对象
* 问题：对象没有一个具体的类型，都是Object类型

> 返回一个对象的函数都是工厂函数

## 自定义构造函数模式

方式四：自定义构造函数模式

* 套路：自定义构造函数，通过new创建对象
* 使用场景：需要创建多个类型确定的对象
* 问题：每个对象都有相同的数据，浪费内存

## 构造函数+原型的组合模式

方式5：构造函数+原型的组合模式

* 套路：自定义构造函数，属性再函数中初始化，方法添加到原型上
* 使用场景：需要创建多个类型确定的对象

```javascript
function Person(name, age){
    this.name = name
    this.age = age
}
Person.protoype.setName = function(name){
    this.name = name
}
```

## new 一个对象背后做了些什么？

1. 先创建一个空对象
2. 给对象设置`__proto__`，值为构造函数对象的prototype属性值 即`this.__proto__`=`fn.prototype`
3. 最后执行构造函数体（给对象添加属性/方法）